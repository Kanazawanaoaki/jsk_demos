<launch>
  <arg name="gui" default="true" />

  <arg name="input_image" default="/k4a/rgb/image_rect_color"/>
  <arg name="input_camera_info" default="/k4a/rgb/camera_info"/>
  <!-- <arg name="input_image" default="/apply_mask_image/output"/> -->
  <!-- <arg name="input_camera_info" default="/apply_mask_image/output/camera_info"/> -->

  <arg name="manager" default="kitchen_template_manager"/>

  <node name="$(arg manager)"
        pkg="nodelet" type="nodelet"
        args="manager" output="screen"/>

  <group ns="point_pose_ih">
    <node name="ih_sift" pkg="imagesift" type="imagesift"
          launch-prefix="nice -n +10" output="screen">
      <remap from="image" to="$(arg input_image)" />
      <remap from="camera_info" to="$(arg input_camera_info)"/>
    </node>
    <node name="ih_detector" pkg="jsk_perception" type="point_pose_extractor" clear_params="true">
      <rosparam subst_value="true">
        template_filename: $(find jsk_2023_09_cook_from_recipe)/image/k4a-ih-panel-cropped.jpg
        window_name: ih_detector
        object_width: 0.277
        object_height: 0.144
      </rosparam>
    </node>
  </group>

  <!-- <group ns="point_pose_ih"> -->
  <!--   <node name="ih_sift" pkg="imagesift" type="imagesift" -->
  <!--         launch-prefix="nice -n +10" output="screen"> -->
  <!--     <remap from="image" to="$(arg input_image)" /> -->
  <!--     <remap from="camera_info" to="$(arg input_camera_info)"/> -->
  <!--   </node> -->
  <!--   <node name="ih_detector" pkg="jsk_perception" type="point_pose_extractor" clear_params="true"> -->
  <!--     <rosparam subst_value="true"> -->
  <!--       template_filename: $(find jsk_2023_09_cook_from_recipe)/image/k4a-ih-panel-iphone0-cropped.jpg -->
  <!--       window_name: ih_detector -->
  <!--       object_width: 0.277 -->
  <!--       object_height: 0.144 -->
  <!--     </rosparam> -->
  <!--   </node> -->
  <!-- </group> -->

  <!-- <group ns="point_pose_ih"> -->
  <!--   <node name="ih_sift" pkg="imagesift" type="imagesift" -->
  <!--         launch-prefix="nice -n +10" output="screen"> -->
  <!--     <remap from="image" to="$(arg input_image)" /> -->
  <!--     <remap from="camera_info" to="$(arg input_camera_info)"/> -->
  <!--   </node> -->
  <!--   <node name="ih_detector" pkg="jsk_perception" type="point_pose_extractor" clear_params="true"> -->
  <!--     <rosparam subst_value="true"> -->
  <!--       template_filename: $(find jsk_2023_09_cook_from_recipe)/image/k4a-ih-panel-iphone-cropped.jpg -->
  <!--       window_name: ih_detector -->
  <!--       object_width: 0.227 -->
  <!--       object_height: 0.144 -->
  <!--     </rosparam> -->
  <!--   </node> -->
  <!-- </group> -->
</launch>
