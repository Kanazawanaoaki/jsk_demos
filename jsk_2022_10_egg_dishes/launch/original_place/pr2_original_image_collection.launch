<launch>
  <!-- c.f. https://jsk-common.readthedocs.io/en/latest/jsk_data/node_scripts/data_collection_server.html , https://github.com/start-jsk/jsk_apc/blob/master/demos/selective_dualarm_stowing/launch/bimanual_stow_data_collection.launch#L130-L202 -->
  <arg name="collect_data" default="true" />

  <node name="pr2_place_data_collection"
        pkg="jsk_data" type="data_collection_server.py"
        output="screen" if="$(arg collect_data)">
    <rosparam subst_value="true">
      message_filters: true
      approximate_sync: true
      method: request
      save_dir: /home/kanazawa/Desktop/data/tmp/pr2-head-rgbd-images
      method: request
      topics:
          - name: /kinect_head/rgb/image_rect_color
            msg_class: sensor_msgs/Image
            fname: pr2_rgb_image_rect_color_request.png
            savetype: ColorImage
          - name: /kinect_head/depth_registered/image_rect
            msg_class: sensor_msgs/Image
            fname: pr2_depth_image_rect_request.pkl
            savetype: DepthImage
      </rosparam>
    </node>
</launch>
